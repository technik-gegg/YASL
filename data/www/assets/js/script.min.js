!function(){"use strict";var e=document.querySelector(".scroll-to-top");e&&window.addEventListener("scroll",(function(){var t=window.pageYOffset;e.style.display=t>100?"block":"none"}));var t=document.querySelector("#mainNav");if(t){var n=t.querySelector(".navbar-collapse");if(n){var o=new bootstrap.Collapse(n,{toggle:!1}),c=n.querySelectorAll("a");for(var i of c)i.addEventListener("click",(function(e){o.hide()}))}var s=function(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>100?t.classList.add("navbar-shrink"):t.classList.remove("navbar-shrink")};s(),document.addEventListener("scroll",s)}}();var isBcast=1;function setEffect(e){var t=$("#"+e).find("span.button-text").text();$("#current-effect").text(t),$(".effect").removeClass("active"),$("#"+e).addClass("active")}function setMuted(e){$("#mute").text(0==e?"MUTE MIC":"UNMUTE MIC")}function setPowered(e){$("#power").text(0==e?"POWER ON":"POWER OFF"),0==e&&$("#current-effect").text("- OFF -")}function setBroadcast(e){$("#broadcast").text(1==e?"SYNC ON":"SYNC OFF"),isBcast=e}function setDeviceName(e){$("#device-name").text(e)}function setVersion(e){$("#version").text(e)}function setIPAddress(e){$("#ip-address").html(e)}function showDevices(e){var t="<ul>";$.each(e,(function(e,n){t+='<li><a target="_blank" href="http://'+n.Device+'">'+n.Device+'</a> [<a target="_blank" href="http://'+n.ip+'">'+n.IP+"</a>]</li> "})),t+="</ul>",$("#other-devices").html(t)}function buildButtons(e){var t=e.length,n=$("#btn-container");n.empty();for(var o=0;o<t;o++)if("null"!=e[o].Name){var c=$("#btn-template").clone(!0);c.attr("id",e[o].Index),c.attr("title",e[o].Name);var i=$(c).find("span.badge");e[o].Index<10?i.text("0"+e[o].Index):i.text(e[o].Index),$(c).find("span.button-text").text(e[o].Name),n.append(c)}$("#btn-template").addClass("hidden")}$(document).ready((function(){setTimeout((function(){$.get("config",(function(e){buildButtons(e)})),$.get("devices",(function(e){showDevices(e)})),$.get("status",(function(e){setEffect(e.Effect),setMuted(e.Muted),setPowered(e.Powered),setBroadcast(e.Broadcast),setDeviceName(e.Device),setVersion(e.Version),setIPAddress(e.IPAddress)}))}),150),setInterval((function(){$.get("status",(function(e){setEffect(e.Effect),setMuted(e.Muted),setPowered(e.Powered),setBroadcast(e.Broadcast),setDeviceName(e.Device)}))}),2e3),$(".effect").on("click",(function(){var e=$(this).attr("id");$.get("effect?v="+e,(function(t){setEffect(e)}))})),$("#save").on("click",(function(){$.get("save",(function(e){console.log(e)}))})),$("#reload").on("click",(function(){$.get("reload",(function(e){console.log(e)}))})),$("#reset").on("click",(function(){$.get("reset",(function(e){console.log(e)}))})),$("#mute").on("click",(function(){$.get("mute",(function(e){setMuted(e)}))})),$("#power").on("click",(function(){$.get("power",(function(e){setPowered(e)}))})),$("#broadcast").on("click",(function(){$.get("broadcast?v="+isBcast,(function(e){setBroadcast(e)}))})),$("#left").on("click",(function(){$.get("button?v=left",(function(e){console.log(e)}))})),$("#right").on("click",(function(){$.get("button?v=right",(function(e){console.log(e)}))}))}));